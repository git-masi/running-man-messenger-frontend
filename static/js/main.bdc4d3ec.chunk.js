(this["webpackJsonprunning-man-messenger-client"]=this["webpackJsonprunning-man-messenger-client"]||[]).push([[0],{106:function(e,t){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(62),c=a.n(s),o=a(18),l=a(16),i=a(9),m=function(e){var t=Object(n.useState)(e),a=Object(i.a)(t,2),r=a[0],s=a[1];return[r,function(e){return s(e.target.value)},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s(e)},function(e){return s(e)}]},u=a(17),f=a.n(u);function g(e){var t=e.title,a={backgroundColor:"var(--dark-blue-gray)",color:"var(--light-gray)",cursor:"not-allowed"};return r.a.createElement("nav",{className:f.a.navbar},r.a.createElement("div",{className:f.a.navContent},r.a.createElement("img",{className:f.a.logo,src:"https://gitmasi.com/assets/running-man-logo/running-man-logo.png",alt:"logo"}),r.a.createElement("span",{className:f.a.title},t)),r.a.createElement("div",{className:f.a.navContent},r.a.createElement(o.c,{className:f.a.navlink,to:"/",activeStyle:"Join"===t?a:null},"Join"),r.a.createElement(o.c,{className:f.a.navlink,to:"/about",activeStyle:a},"About")))}var p=a(28),_=a.n(p);function h(e){var t=e.title,a=m(""),n=Object(i.a)(a,2),s=n[0],c=n[1],l=m(""),u=Object(i.a)(l,2),f=u[0],p=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{title:t}),r.a.createElement("section",{className:_.a.section},r.a.createElement("form",{className:_.a.form,onSubmit:function(e){return e.preventDefault()}},r.a.createElement("div",null,r.a.createElement("img",{className:_.a.logo,src:"https://gitmasi.com/assets/running-man-logo/running-man-logo.png",alt:"logo"})),r.a.createElement("label",null,"Name",r.a.createElement("input",{required:!0,type:"text",placeholder:"Enter your name",value:s,onChange:c})),r.a.createElement("label",null,"Room",r.a.createElement("input",{required:!0,type:"text",placeholder:"Enter the room you'd like to join",value:f,onChange:p})),r.a.createElement(o.b,{onClick:function(e){return s&&f?null:e.preventDefault()},to:"/chat?name=".concat(s,"&room=").concat(f)},r.a.createElement("button",{type:"submit"},"Join Chat")))))}var E=a(67),b=a(65),v=a.n(b),d=a(66),y=a.n(d),w=a(40),j=a.n(w);function N(e){var t=e.users.map((function(e){return r.a.createElement("p",{key:e.id},e.name)}));return r.a.createElement("div",{className:j.a.users},r.a.createElement("h3",{className:j.a.heading},"Users In Chat"),t)}var O=a(117),M=a(14),k=a.n(M);function C(e){var t=e.name,a=e.messages,s=Object(n.useState)(!0),c=Object(i.a)(s,2),o=c[0],l=c[1],m=Object(n.useState)(!0),u=Object(i.a)(m,2),f=u[0],g=u[1],p=function(e){return e.trim().toLowerCase()},_=Object(n.useRef)(null),h=Object(n.useRef)(null);Object(n.useEffect)((function(){var e={root:_.current,rootMargin:"0px",threshold:.9};new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?(l(!0),g(!0)):l(!1)}))}),e).observe(h.current)}),[]),Object(n.useEffect)((function(){var e;a.length>0&&a[a.length-1].name!==t&&(e=!0);var n=_.current,r=n.scrollHeight;o?n.scrollTo(0,r):e&&g(!1),e=!1}),[a]);var E=a.map((function(e){return r.a.createElement("p",{key:Object(O.a)(),className:p(t)===p(e.name)?[k.a.isUser,k.a.message].join(" "):k.a.message},e.name," \u2014 ",e.text,r.a.createElement("span",{className:k.a.timestamp},e.createdAt))}));return r.a.createElement("div",{ref:_,className:k.a.messages},E,r.a.createElement("div",{ref:h,className:k.a.endOfMessages}),r.a.createElement("div",{className:"".concat(k.a.newMessage," ").concat(f?k.a.newMessageHide:null)},"New Message"))}var S=a(43),x=(a(112),a(41)),D=a.n(x);function A(e){var t=e.addEmoji,a=Object(n.useState)(!1),s=Object(i.a)(a,2),c=s[0],o=s[1];return r.a.createElement("div",{onClick:function(){return o(!c)},className:D.a.wrapper},r.a.createElement(S.a,{emoji:"smile",size:40}),r.a.createElement("span",{className:D.a.picker,style:{display:c?"block":"none"}},r.a.createElement(S.b,{onSelect:function(e){return t(e)}})))}var I,J=a(24),q=a.n(J);function F(e){var t=e.location,a=e.title,s=Object(n.useState)([]),c=Object(i.a)(s,2),o=c[0],l=c[1],u=m(""),f=Object(i.a)(u,4),p=f[0],_=f[1],h=f[2],b=f[3],d=Object(n.useState)(""),w=Object(i.a)(d,2),j=w[0],O=w[1],M=Object(n.useState)([]),k=Object(i.a)(M,2),S=k[0],x=k[1];Object(n.useEffect)((function(){var e=y.a.parse(t.search,{ignoreQueryPrefix:!0}),a=e.name,n=e.room;return(I=v()("https://running-man-messenger.herokuapp.com/")).emit("join",{name:a,room:n},(function(e){if(e)return console.log(e);O(a)})),function(){I.emit("disconnect"),I.off()}}),[t.search]),Object(n.useEffect)((function(){I.on("message",(function(e){l((function(t){return[].concat(Object(E.a)(t),[e])}))}))}),[]),Object(n.useEffect)((function(){I.on("roomData",(function(e){var t=e.users;x(t)}))}),[]);return r.a.createElement("section",{className:q.a.section},r.a.createElement(g,{title:a}),r.a.createElement("div",{className:q.a.chatArea},r.a.createElement(N,{users:S}),r.a.createElement(C,{name:j,messages:o}),r.a.createElement("form",{className:q.a.form,onSubmit:function(e){e.preventDefault(),I.emit("newMessage",p,(function(e){if(e)return console.log(e);h()})),e.target.querySelector('[name="newMessage"]').focus()}},r.a.createElement("label",{className:q.a.label},"Message",r.a.createElement("input",{required:!0,type:"text",name:"newMessage",placeholder:"Type your message",value:p,onChange:_,onKeyPress:function(e){return"Enter"===e.key?e.target.closest("form").querySelector("button[type='submit']").click():null}})),r.a.createElement(A,{addEmoji:function(e){b((function(t){return"".concat(t).concat(e.native)}))}}),r.a.createElement("button",{type:"submit",className:"primary"},"Send"))))}var H=a(42),B=a.n(H);function T(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,e),r.a.createElement("section",{className:B.a.section},r.a.createElement("div",{className:B.a.wrapper},r.a.createElement("p",null,"The idea for Running Man Messagenger came to me as I was learning about websockets and how they could be used to make a real time chat application. And though it has not been relevant for many years the first thing I associate with real time chat is AIM."),r.a.createElement("p",null,'In my childhood AOL Instant Messenger (AIM) was all the rage. And people still used terms like "all the rage". The mascot for that app \u2014 funny, I don\'t think we referred to it as an "app" then \u2014 was called the "running man" hence the name of this app and some of the design elements.'),r.a.createElement("p",null,"So for those of us who remember AOL as our first foray onto the internet, here's to the running man."),r.a.createElement("p",null," ","Icons made by"," ",r.a.createElement("a",{href:"https://www.flaticon.com/authors/freepik",title:"Freepik"}," ","Freepik"," ")," ","from"," ",r.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")))))}a(113);var U=function(){return r.a.createElement(o.a,{basename:"/"},r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/about",exact:!0,render:function(e){return r.a.createElement(T,Object.assign({},e,{title:"About"}))}}),r.a.createElement(l.a,{path:"/chat",render:function(e){return r.a.createElement(F,Object.assign({},e,{title:"Chat"}))}}),r.a.createElement(l.a,{path:"/",exact:!0,render:function(e){return r.a.createElement(h,Object.assign({},e,{title:"Join"}))}})))};a(114);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root"))},14:function(e,t,a){e.exports={messages:"DisplayMessages_messages__33p-A",message:"DisplayMessages_message__DyzFS",isUser:"DisplayMessages_isUser__tCYRf",timestamp:"DisplayMessages_timestamp__jlaoN",endOfMessages:"DisplayMessages_endOfMessages__1EYOr",newMessage:"DisplayMessages_newMessage__1Z0oq",newMessageHide:"DisplayMessages_newMessageHide__w1Zwe"}},17:function(e,t,a){e.exports={navbar:"Navbar_navbar__CLYHD",navBarFixed:"Navbar_navBarFixed__S2Sr5",navContent:"Navbar_navContent__DJM0z",title:"Navbar_title__1Do-7",logo:"Navbar_logo__1H3m4",settingsButton:"Navbar_settingsButton__KHJhg",navlink:"Navbar_navlink__3vCnt"}},24:function(e,t,a){e.exports={section:"Chat_section__2-ctE",heading:"Chat_heading__2iqfY",chatArea:"Chat_chatArea__33zBf",form:"Chat_form__2t4T1",label:"Chat_label__1yDvZ"}},28:function(e,t,a){e.exports={section:"Join_section__2voqf",form:"Join_form__3X26n",logo:"Join_logo__3HIjK"}},40:function(e,t,a){e.exports={users:"DisplayUsers_users__10o56",heading:"DisplayUsers_heading__3TdNd"}},41:function(e,t,a){e.exports={wrapper:"EmojiPicker_wrapper__1nIoo",picker:"EmojiPicker_picker__3bdKr"}},42:function(e,t,a){e.exports={section:"About_section__1aPxL",wrapper:"About_wrapper__CO56M"}},68:function(e,t,a){e.exports=a(115)}},[[68,1,2]]]);
//# sourceMappingURL=main.bdc4d3ec.chunk.js.map